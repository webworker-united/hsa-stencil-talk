const t=window.ClientFacingImage.h;function e(t){return`rotateX(${i(-t.y)}deg) rotateY(${i(t.x)}deg)`}function i(t){return t/4e3*180}function r(t){return-1*t/150}class s{constructor(){this.url="",this.width="200px",this.height="200px",this.round=!0,this.clientOffset={x:0,y:0}}get imgStyle(){return{backgroundImage:`url(${this.url})`,width:this.width,height:this.height,transform:e(this.clientOffset)}}get imgClass(){return{cfi__projector:!0,"cfi__projector--round":this.round}}get backdropStyle(){return{width:this.width,height:this.height,transform:(t=this.clientOffset,`translateX(${r(t.x)}px) translateY(${r(t.y)}px)`+e(this.clientOffset))};var t}get backdropClass(){return{cfi__backdrop:!0,"cfi__backdrop--round":this.round}}handleMouseMove(t){this.clientOffset=function(t,e){const i=t.getBoundingClientRect();return{x:e.x-(i.right/2+i.left/2),y:e.y-(i.bottom/2+i.top/2)}}(this.element,{x:t.clientX,y:t.clientY})}render(){return t("div",{class:"cfi"},t("div",{class:this.backdropClass,style:this.backdropStyle}),t("div",{class:this.imgClass,style:this.imgStyle}))}static get is(){return"client-facing-image"}static get encapsulation(){return"shadow"}static get properties(){return{clientOffset:{state:!0},element:{elementRef:!0},height:{type:String,attr:"height"},round:{type:Boolean,attr:"round"},url:{type:String,attr:"url"},width:{type:String,attr:"width"}}}static get listeners(){return[{name:"window:mousemove",method:"handleMouseMove",passive:!0}]}static get style(){return".cfi{position:relative}.cfi__projector{position:absolute;top:0;left:0;background-repeat:no-repeat;background-size:cover;background-position:50%;border:2px solid #000}.cfi__projector--round{border-radius:50%}.cfi__backdrop{background-color:#000;border:2px solid #000}.cfi__backdrop--round{border-radius:50%}"}}export{s as ClientFacingImage};