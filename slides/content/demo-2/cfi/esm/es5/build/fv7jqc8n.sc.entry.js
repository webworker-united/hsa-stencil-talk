import{h}from"../client-facing-image.core.js";function getClientOffset(t,e){var n=t.getBoundingClientRect();return{x:e.x-(n.right/2+n.left/2),y:e.y-(n.bottom/2+n.top/2)}}function getRotation(t){return"rotateX("+calcRotation(-t.y)+"deg) rotateY("+calcRotation(t.x)+"deg)"}function calcRotation(t){return t/4e3*180}function getTranslation(t){return"translateX("+calcOffset(t.x)+"px) translateY("+calcOffset(t.y)+"px)"}function calcOffset(t){return-1*t/150}var ClientFacingImage=function(){function t(){this.url="",this.width="200px",this.height="200px",this.round=!0,this.clientOffset={x:0,y:0}}return Object.defineProperty(t.prototype,"imgStyle",{get:function(){return{backgroundImage:"url("+this.url+")",width:this.width,height:this.height,transform:getRotation(this.clientOffset)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imgClass",{get:function(){return{cfi__projector:!0,"cfi__projector--round":this.round}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropStyle",{get:function(){return{width:this.width,height:this.height,transform:getTranslation(this.clientOffset)+getRotation(this.clientOffset)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropClass",{get:function(){return{cfi__backdrop:!0,"cfi__backdrop--round":this.round}},enumerable:!0,configurable:!0}),t.prototype.handleMouseMove=function(t){this.clientOffset=getClientOffset(this.element,{x:t.clientX,y:t.clientY})},t.prototype.render=function(){return h("div",{class:"cfi"},h("div",{class:this.backdropClass,style:this.backdropStyle}),h("div",{class:this.imgClass,style:this.imgStyle}))},Object.defineProperty(t,"is",{get:function(){return"client-facing-image"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{clientOffset:{state:!0},element:{elementRef:!0},height:{type:String,attr:"height"},round:{type:Boolean,attr:"round"},url:{type:String,attr:"url"},width:{type:String,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"window:mousemove",method:"handleMouseMove",passive:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".cfi.sc-client-facing-image{position:relative}.cfi__projector.sc-client-facing-image{position:absolute;top:0;left:0;background-repeat:no-repeat;background-size:cover;background-position:50%;border:2px solid #000}.cfi__projector--round.sc-client-facing-image{border-radius:50%}.cfi__backdrop.sc-client-facing-image{background-color:#000;border:2px solid #000}.cfi__backdrop--round.sc-client-facing-image{border-radius:50%}"},enumerable:!0,configurable:!0}),t}();export{ClientFacingImage};